{"ast":null,"code":"function _extends() {\n  _extends = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n\n  return _extends.apply(this, arguments);\n}\n\nimport { useEffect, useMemo, useState, useRef, useCallback } from 'react';\nimport groupOptions from './lib/groupOptions';\nimport getOptions from './lib/getOptions';\nimport getDisplayValue from './lib/getDisplayValue';\nimport useFetch from './useFetch';\nimport getValues from './lib/getValues';\nimport useHighlight from './useHighlight';\nexport default function useSelect({\n  value: defaultValue = null,\n  options: defaultOptions = [],\n  search: canSearch = false,\n  multiple = false,\n  disabled = false,\n  closeOnSelect = true,\n  getOptions: getOptionsFn = null,\n  filterOptions = null,\n  onChange = () => {},\n  onFocus = () => {},\n  onBlur = () => {},\n  debounce = 0\n}) {\n  const ref = useRef(null);\n  const valueRef = useRef(undefined);\n  const [value, setValue] = useState(null);\n  const [search, setSearch] = useState('');\n  const [focus, setFocus] = useState(false);\n  const {\n    options,\n    fetching\n  } = useFetch(search, defaultOptions, {\n    getOptions: getOptionsFn,\n    filterOptions,\n    debounceTime: debounce\n  });\n  const onSelect = useCallback(newValue => {\n    const newOption = getOptions(newValue, value, Array.isArray(value) ? [...value, ...options] : options, multiple);\n    setValue(newOption);\n    onChange(getValues(newOption), newOption);\n\n    if (closeOnSelect) {\n      ref.current.blur();\n    }\n  }, [closeOnSelect, multiple, onChange, value, options]);\n  const [highlighted, keyboardEvents] = useHighlight(-1, options, onSelect, ref);\n  const snapshot = useMemo(() => ({\n    options: groupOptions(options),\n    option: value,\n    displayValue: getDisplayValue(value),\n    value: getValues(value),\n    search,\n    fetching,\n    focus,\n    highlighted,\n    disabled\n  }), [disabled, fetching, focus, highlighted, search, value, options]);\n  const onMouseDown = useCallback(e => {\n    e.preventDefault();\n    onSelect(e.currentTarget.value);\n  }, [onSelect]);\n  const onFocusCb = useCallback(e => {\n    setFocus(true);\n    onFocus(e);\n  }, [onFocus]);\n  const onBlurCb = useCallback(e => {\n    setFocus(false);\n    setSearch('');\n    onBlur(e);\n  }, [onBlur]);\n  const valueProps = useMemo(() => _extends({\n    tabIndex: '0',\n    readOnly: !canSearch\n  }, keyboardEvents, {\n    onFocus: onFocusCb,\n    onBlur: onBlurCb,\n    onChange: canSearch ? ({\n      target\n    }) => setSearch(target.value) : null,\n    disabled,\n    ref\n  }), [canSearch, keyboardEvents, onFocusCb, onBlurCb, disabled]);\n  const optionProps = useMemo(() => ({\n    tabIndex: '-1',\n    onMouseDown\n  }), [onMouseDown]);\n  useEffect(() => {\n    if (valueRef.current === defaultValue) {\n      return;\n    }\n\n    valueRef.current = defaultValue;\n    setValue(getOptions(defaultValue, null, options, multiple));\n  }, [defaultValue, multiple, options]);\n  return [snapshot, valueProps, optionProps, setValue];\n}","map":{"version":3,"sources":["C:/Users/vishw/OneDrive/Desktop/reactjs nodejs/client/node_modules/react-select-search/dist/esm/useSelect.js"],"names":["_extends","Object","assign","target","i","arguments","length","source","key","prototype","hasOwnProperty","call","apply","useEffect","useMemo","useState","useRef","useCallback","groupOptions","getOptions","getDisplayValue","useFetch","getValues","useHighlight","useSelect","value","defaultValue","options","defaultOptions","search","canSearch","multiple","disabled","closeOnSelect","getOptionsFn","filterOptions","onChange","onFocus","onBlur","debounce","ref","valueRef","undefined","setValue","setSearch","focus","setFocus","fetching","debounceTime","onSelect","newValue","newOption","Array","isArray","current","blur","highlighted","keyboardEvents","snapshot","option","displayValue","onMouseDown","e","preventDefault","currentTarget","onFocusCb","onBlurCb","valueProps","tabIndex","readOnly","optionProps"],"mappings":"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","sourcesContent":["function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nimport { useEffect, useMemo, useState, useRef, useCallback } from 'react';\nimport groupOptions from './lib/groupOptions';\nimport getOptions from './lib/getOptions';\nimport getDisplayValue from './lib/getDisplayValue';\nimport useFetch from './useFetch';\nimport getValues from './lib/getValues';\nimport useHighlight from './useHighlight';\nexport default function useSelect({\n  value: defaultValue = null,\n  options: defaultOptions = [],\n  search: canSearch = false,\n  multiple = false,\n  disabled = false,\n  closeOnSelect = true,\n  getOptions: getOptionsFn = null,\n  filterOptions = null,\n  onChange = () => {},\n  onFocus = () => {},\n  onBlur = () => {},\n  debounce = 0\n}) {\n  const ref = useRef(null);\n  const valueRef = useRef(undefined);\n  const [value, setValue] = useState(null);\n  const [search, setSearch] = useState('');\n  const [focus, setFocus] = useState(false);\n  const {\n    options,\n    fetching\n  } = useFetch(search, defaultOptions, {\n    getOptions: getOptionsFn,\n    filterOptions,\n    debounceTime: debounce\n  });\n  const onSelect = useCallback(newValue => {\n    const newOption = getOptions(newValue, value, Array.isArray(value) ? [...value, ...options] : options, multiple);\n    setValue(newOption);\n    onChange(getValues(newOption), newOption);\n\n    if (closeOnSelect) {\n      ref.current.blur();\n    }\n  }, [closeOnSelect, multiple, onChange, value, options]);\n  const [highlighted, keyboardEvents] = useHighlight(-1, options, onSelect, ref);\n  const snapshot = useMemo(() => ({\n    options: groupOptions(options),\n    option: value,\n    displayValue: getDisplayValue(value),\n    value: getValues(value),\n    search,\n    fetching,\n    focus,\n    highlighted,\n    disabled\n  }), [disabled, fetching, focus, highlighted, search, value, options]);\n  const onMouseDown = useCallback(e => {\n    e.preventDefault();\n    onSelect(e.currentTarget.value);\n  }, [onSelect]);\n  const onFocusCb = useCallback(e => {\n    setFocus(true);\n    onFocus(e);\n  }, [onFocus]);\n  const onBlurCb = useCallback(e => {\n    setFocus(false);\n    setSearch('');\n    onBlur(e);\n  }, [onBlur]);\n  const valueProps = useMemo(() => _extends({\n    tabIndex: '0',\n    readOnly: !canSearch\n  }, keyboardEvents, {\n    onFocus: onFocusCb,\n    onBlur: onBlurCb,\n    onChange: canSearch ? ({\n      target\n    }) => setSearch(target.value) : null,\n    disabled,\n    ref\n  }), [canSearch, keyboardEvents, onFocusCb, onBlurCb, disabled]);\n  const optionProps = useMemo(() => ({\n    tabIndex: '-1',\n    onMouseDown\n  }), [onMouseDown]);\n  useEffect(() => {\n    if (valueRef.current === defaultValue) {\n      return;\n    }\n\n    valueRef.current = defaultValue;\n    setValue(getOptions(defaultValue, null, options, multiple));\n  }, [defaultValue, multiple, options]);\n  return [snapshot, valueProps, optionProps, setValue];\n}"]},"metadata":{},"sourceType":"module"}