{"ast":null,"code":"import _regeneratorRuntime from\"C:/Users/vishw/OneDrive/Desktop/reactjs nodejs/client/Client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"C:/Users/vishw/OneDrive/Desktop/reactjs nodejs/client/Client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"C:/Users/vishw/OneDrive/Desktop/reactjs nodejs/client/Client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import{useState}from\"react\";import{useEffect}from\"react\";import{NavLink}from\"react-router-dom\";import{axios}from\"axios\";import{type}from\"os\";import'./Trends.css';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";export default function Trends(props){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),sitedata=_useState2[0],setSitedata=_useState2[1];var _useState3=useState(\"\"),_useState4=_slicedToArray(_useState3,2),searchdata=_useState4[0],setSearchdata=_useState4[1];var _useState5=useState(false),_useState6=_slicedToArray(_useState5,2),loading=_useState6[0],setLoading=_useState6[1];var _useState7=useState(\"\"),_useState8=_slicedToArray(_useState7,2),pname=_useState8[0],setPname=_useState8[1];var _useState9=useState(\"\"),_useState10=_slicedToArray(_useState9,2),token=_useState10[0],setToken=_useState10[1];// console.log(props.search)\nuseEffect(function(){setPname(JSON.parse(localStorage.getItem('user-info')));setToken(pname.token);showfile();},[]);var showfile=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var url,_url;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:console.log(\"token= \",token);if(props.count){setSearchdata('400');url=\"/showfiles/count/\"+props.count;console.log(url);fetch(url,{// mode: 'no-cors',\nheaders:{'Content-Type':'application/json','Authorization':'Bearer '+token}}).then(function(result){result.json().then(function(resp){setSitedata(resp);});}).catch(function(error){console.error('Error:',error);// setSearchdata(\"\");\n});setLoading(true);}else{setSearchdata('200');_url=\"/showfiles/\";console.log(_url);fetch(_url).then(function(result){result.json().then(function(resp){setSitedata(resp);});});setLoading(true);}case 2:case\"end\":return _context.stop();}}},_callee);}));return function showfile(){return _ref.apply(this,arguments);};}();return/*#__PURE__*/_jsx(_Fragment,{children:loading?/*#__PURE__*/_jsx(\"div\",{children:searchdata!=404||searchdata==200?/*#__PURE__*/_jsx(\"div\",{class:\"row icon-boxes\",children:sitedata.map(function(item,i){return/*#__PURE__*/_jsx(\"div\",{class:\"col-md-6 col-lg-3 col-sm-4 d-flex align-items-stretch my-4 mb-lg-0 hover\",children:/*#__PURE__*/_jsxs(\"div\",{class:\"\",style:stringifycss.iconBox,children:[/*#__PURE__*/_jsx(\"div\",{class:\"\",children:/*#__PURE__*/_jsx(\"img\",{src:\"/\"+item.file_name,className:\"card-img-top\",alt:\"...\",style:{height:'13rem'}})}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-center social-box\",children:[/*#__PURE__*/_jsx(\"a\",{href:\"http://www.facebook.com/sharer.php?s=100&amp;p[title]=\"+(item===null||item===void 0?void 0:item.title)+\"&amp;p[url]=\"+\"http://localhost:3000/postview/\"+item.id,title:\"Share on Facebook\",target:\"_blank\",children:/*#__PURE__*/_jsx(\"i\",{class:\"fa fa-facebook\"})}),/*#__PURE__*/_jsx(\"a\",{href:\"http://twitter.com/share?text=\"+(item===null||item===void 0?void 0:item.title)+\"&url=\"+\"http://localhost:3000/postview/\"+item.id,target:\"_blank\",title:\"Tweet\",children:/*#__PURE__*/_jsx(\"i\",{class:\"fa fa-twitter\"})}),/*#__PURE__*/_jsx(\"a\",{href:\"http://www.linkedin.com/shareArticle?mini=true&url=http://localhost:3000/postview/\"+item.id+\"&title=\"+(item===null||item===void 0?void 0:item.title)+\"&source=http://localhost:3000/postview/\"+item.id,target:\"_blank\",title:\"Share on LinkedIn\",children:/*#__PURE__*/_jsx(\"i\",{class:\"fa fa-linkedin\"})}),/*#__PURE__*/_jsx(\"a\",{href:\"https://wa.me/?text=http://localhost:3000/postview/\"+item.id,target:\"_blank\",title:\"Share on Whatsapp\",children:/*#__PURE__*/_jsx(\"i\",{class:\"fa fa-whatsapp\"})}),/*#__PURE__*/_jsx(\"a\",{href:\"mailto:?subject=\"+(item===null||item===void 0?void 0:item.title)+\"&amp;body=http://localhost:3000/postview/\"+item.id,target:\"_blank\",title:\"Share on Email\",children:/*#__PURE__*/_jsx(\"i\",{class:\"fa fa-envelope\"})})]}),/*#__PURE__*/_jsx(\"h6\",{class:\"fw-bold mt-2\",children:/*#__PURE__*/_jsx(NavLink,{to:\"/postview/\"+item.id,className:\"text-decoration-none\",children:item.title.substring(0,70)+\"...\"})}),/*#__PURE__*/_jsx(\"p\",{class:\"\",children:item.description.substring(3,70)+\"...\"}),/*#__PURE__*/_jsx(\"div\",{className:\"text-left button-effect\",children:/*#__PURE__*/_jsxs(NavLink,{to:\"/postview/\"+item.id,className:\"text-decoration-none effect effect-1\",postid:\"\",children:[\"Read More \",/*#__PURE__*/_jsx(\"span\",{className:\"slide-right\",children:\"->\"})]})})]})},i);})}):/*#__PURE__*/_jsx(\"div\",{className:\" row text-center\",children:/*#__PURE__*/_jsx(\"h2\",{className:\"\",children:\"Not Found\"})})}):/*#__PURE__*/_jsx(\"div\",{class:\"d-flex justify-content-center\",children:/*#__PURE__*/_jsx(\"div\",{class:\"spinner-border m-5\",role:\"status\",children:/*#__PURE__*/_jsx(\"span\",{class:\"visually-hidden\",children:\"Loading...\"})})})});}var stringifycss={iconBox:{padding:\"5% 5%\",position:\"relative\",overflow:\"hidden\",background:\"#fff\",boxShadow:\"0 0 29px 0 rgb(18 66 101 / 8%)\",transition:\"all 0.3s ease-in-out\",borderRadius:\"8px\",zIndex:\"1\",\"&:hover\":{transform:\"scale(1.08)\"}}};","map":{"version":3,"sources":["C:/Users/vishw/OneDrive/Desktop/reactjs nodejs/client/client/src/Components/Trends/Trends.js"],"names":["useState","useEffect","NavLink","axios","type","Trends","props","sitedata","setSitedata","searchdata","setSearchdata","loading","setLoading","pname","setPname","token","setToken","JSON","parse","localStorage","getItem","showfile","console","log","count","url","fetch","headers","then","result","json","resp","catch","error","map","item","i","stringifycss","iconBox","file_name","height","title","id","substring","description","padding","position","overflow","background","boxShadow","transition","borderRadius","zIndex","transform"],"mappings":"shBAAA,OAASA,QAAT,KAAyB,OAAzB,CACA,OAASC,SAAT,KAA0B,OAA1B,CACA,OAASC,OAAT,KAAwB,kBAAxB,CACA,OAASC,KAAT,KAAsB,OAAtB,CACA,OAASC,IAAT,KAAqB,IAArB,CACA,MAAO,cAAP,C,6IAEA,cAAe,SAASC,CAAAA,MAAT,CAAgBC,KAAhB,CAAuB,CAElC,cAAgCN,QAAQ,CAAC,EAAD,CAAxC,wCAAOO,QAAP,eAAiBC,WAAjB,eAEA,eAAoCR,QAAQ,CAAC,EAAD,CAA5C,yCAAOS,UAAP,eAAmBC,aAAnB,eACA,eAA8BV,QAAQ,CAAC,KAAD,CAAtC,yCAAOW,OAAP,eAAgBC,UAAhB,eACA,eAA0BZ,QAAQ,CAAC,EAAD,CAAlC,yCAAOa,KAAP,eAAcC,QAAd,eACA,eAA0Bd,QAAQ,CAAC,EAAD,CAAlC,0CAAOe,KAAP,gBAAcC,QAAd,gBAEA;AAEAf,SAAS,CAAC,UAAM,CAEZa,QAAQ,CAACG,IAAI,CAACC,KAAL,CAAWC,YAAY,CAACC,OAAb,CAAqB,WAArB,CAAX,CAAD,CAAR,CACAJ,QAAQ,CAACH,KAAK,CAACE,KAAP,CAAR,CACAM,QAAQ,GAEX,CANQ,CAMN,EANM,CAAT,CASA,GAAIA,CAAAA,QAAQ,0FAAG,gJACXC,OAAO,CAACC,GAAR,CAAY,SAAZ,CAAuBR,KAAvB,EACA,GAAIT,KAAK,CAACkB,KAAV,CAAiB,CACbd,aAAa,CAAC,KAAD,CAAb,CACIe,GAFS,CAEH,oBAAsBnB,KAAK,CAACkB,KAFzB,CAGbF,OAAO,CAACC,GAAR,CAAYE,GAAZ,EACAC,KAAK,CAACD,GAAD,CAAM,CACP;AACAE,OAAO,CAAE,CACL,eAAgB,kBADX,CAEL,gBAAiB,UAAYZ,KAFxB,CAFF,CAAN,CAAL,CAMGa,IANH,CAMQ,SAACC,MAAD,CAAY,CAChBA,MAAM,CAACC,IAAP,GAAcF,IAAd,CAAmB,SAACG,IAAD,CAAU,CACzBvB,WAAW,CAACuB,IAAD,CAAX,CACH,CAFD,EAGH,CAVD,EAUIC,KAVJ,CAUU,SAACC,KAAD,CAAW,CACbX,OAAO,CAACW,KAAR,CAAc,QAAd,CAAwBA,KAAxB,EACA;AACH,CAbL,EAcArB,UAAU,CAAC,IAAD,CAAV,CACH,CAnBD,IAoBK,CACDF,aAAa,CAAC,KAAD,CAAb,CACIe,IAFH,CAES,aAFT,CAGDH,OAAO,CAACC,GAAR,CAAYE,IAAZ,EACAC,KAAK,CAACD,IAAD,CAAL,CAAWG,IAAX,CAAgB,SAACC,MAAD,CAAY,CACxBA,MAAM,CAACC,IAAP,GAAcF,IAAd,CAAmB,SAACG,IAAD,CAAU,CACzBvB,WAAW,CAACuB,IAAD,CAAX,CACH,CAFD,EAGH,CAJD,EAKAnB,UAAU,CAAC,IAAD,CAAV,CACH,CAhCU,sDAAH,kBAARS,CAAAA,QAAQ,0CAAZ,CAsCA,mBAAQ,yBAEHV,OAAO,cAEJ,qBACKF,UAAU,EAAI,GAAd,EAAqBA,UAAU,EAAI,GAAnC,cACG,YAAK,KAAK,CAAC,gBAAX,UAEKF,QAAQ,CAAC2B,GAAT,CAAa,SAACC,IAAD,CAAOC,CAAP,qBACV,YAAa,KAAK,CAAC,0EAAnB,uBACI,aAAK,KAAK,CAAC,EAAX,CAAc,KAAK,CAAEC,YAAY,CAACC,OAAlC,wBACI,YAAK,KAAK,CAAC,EAAX,uBAAc,YAAK,GAAG,CAAE,IAAMH,IAAI,CAACI,SAArB,CAAgC,SAAS,CAAC,cAA1C,CAAyD,GAAG,CAAC,KAA7D,CAAmE,KAAK,CAAE,CAAEC,MAAM,CAAE,OAAV,CAA1E,EAAd,EADJ,cAEI,aAAK,SAAS,CAAC,wBAAf,wBACI,UAAG,IAAI,CAAE,0DAA2DL,IAA3D,SAA2DA,IAA3D,iBAA2DA,IAAI,CAAEM,KAAjE,EAAyE,cAAzE,CAA0F,iCAA1F,CAA8HN,IAAI,CAACO,EAA5I,CAAgJ,KAAK,CAAC,mBAAtJ,CAA0K,MAAM,CAAC,QAAjL,uBAA2L,UAAG,KAAK,CAAC,gBAAT,EAA3L,EADJ,cAEI,UAAG,IAAI,CAAE,kCAAmCP,IAAnC,SAAmCA,IAAnC,iBAAmCA,IAAI,CAAEM,KAAzC,EAAiD,OAAjD,CAA2D,iCAA3D,CAA+FN,IAAI,CAACO,EAA7G,CAAiH,MAAM,CAAC,QAAxH,CAAiI,KAAK,CAAC,OAAvI,uBAAgJ,UAAG,KAAK,CAAC,eAAT,EAAhJ,EAFJ,cAGI,UAAG,IAAI,CAAE,qFAAuFP,IAAI,CAACO,EAA5F,CAAiG,SAAjG,EAA6GP,IAA7G,SAA6GA,IAA7G,iBAA6GA,IAAI,CAAEM,KAAnH,EAA2H,yCAA3H,CAAuKN,IAAI,CAACO,EAArL,CAAyL,MAAM,CAAC,QAAhM,CAAyM,KAAK,CAAC,mBAA/M,uBAAmO,UAAG,KAAK,CAAC,gBAAT,EAAnO,EAHJ,cAII,UAAG,IAAI,CAAE,sDAAwDP,IAAI,CAACO,EAAtE,CAA0E,MAAM,CAAC,QAAjF,CAA0F,KAAK,CAAC,mBAAhG,uBAAqH,UAAG,KAAK,CAAC,gBAAT,EAArH,EAJJ,cAKI,UAAG,IAAI,CAAE,oBAAqBP,IAArB,SAAqBA,IAArB,iBAAqBA,IAAI,CAAEM,KAA3B,EAAmC,2CAAnC,CAAiFN,IAAI,CAACO,EAA/F,CAAmG,MAAM,CAAC,QAA1G,CAAmH,KAAK,CAAC,gBAAzH,uBAA0I,UAAG,KAAK,CAAC,gBAAT,EAA1I,EALJ,GAFJ,cASI,WAAI,KAAK,CAAC,cAAV,uBAAyB,KAAC,OAAD,EAAS,EAAE,CAAE,aAAeP,IAAI,CAACO,EAAjC,CAAqC,SAAS,CAAC,sBAA/C,UAAuEP,IAAI,CAACM,KAAL,CAAWE,SAAX,CAAqB,CAArB,CAAwB,EAAxB,EAA8B,KAArG,EAAzB,EATJ,cAUI,UAAG,KAAK,CAAC,EAAT,UAAaR,IAAI,CAACS,WAAL,CAAiBD,SAAjB,CAA2B,CAA3B,CAA8B,EAA9B,EAAoC,KAAjD,EAVJ,cAWI,YAAK,SAAS,CAAC,yBAAf,uBAAyC,MAAC,OAAD,EAAS,EAAE,CAAE,aAAeR,IAAI,CAACO,EAAjC,CAAqC,SAAS,CAAC,sCAA/C,CAAsF,MAAM,CAAC,EAA7F,qCAA2G,aAAM,SAAS,CAAC,aAAhB,gBAA3G,GAAzC,EAXJ,GADJ,EAAUN,CAAV,CADU,EAAb,CAFL,EADH,cAuBG,YAAK,SAAS,CAAC,kBAAf,uBACI,WAAI,SAAS,CAAC,EAAd,uBADJ,EAxBR,EAFI,cAkCJ,YAAK,KAAK,CAAC,+BAAX,uBACI,YAAK,KAAK,CAAC,oBAAX,CAAgC,IAAI,CAAC,QAArC,uBACI,aAAM,KAAK,CAAC,iBAAZ,wBADJ,EADJ,EApCA,EAAR,CA6CH,CAED,GAAMC,CAAAA,YAAY,CAAG,CACjBC,OAAO,CAAE,CACLO,OAAO,CAAE,OADJ,CAELC,QAAQ,CAAE,UAFL,CAGLC,QAAQ,CAAE,QAHL,CAILC,UAAU,CAAE,MAJP,CAKLC,SAAS,CAAE,gCALN,CAMLC,UAAU,CAAE,sBANP,CAOLC,YAAY,CAAE,KAPT,CAQLC,MAAM,CAAE,GARH,CAUL,UAAW,CACPC,SAAS,CAAE,aADJ,CAVN,CADQ,CAArB","sourcesContent":["import { useState } from \"react\";\r\nimport { useEffect } from \"react\";\r\nimport { NavLink } from \"react-router-dom\";\r\nimport { axios } from \"axios\";\r\nimport { type } from \"os\";\r\nimport './Trends.css';\r\n\r\nexport default function Trends(props) {\r\n\r\n    const [sitedata, setSitedata] = useState([])\r\n\r\n    const [searchdata, setSearchdata] = useState(\"\")\r\n    const [loading, setLoading] = useState(false);\r\n    const [pname, setPname] = useState(\"\");\r\n    const [token, setToken] = useState(\"\");\r\n\r\n    // console.log(props.search)\r\n\r\n    useEffect(() => {\r\n\r\n        setPname(JSON.parse(localStorage.getItem('user-info')));\r\n        setToken(pname.token);\r\n        showfile();\r\n\r\n    }, [])\r\n\r\n\r\n    let showfile = async () => {\r\n        console.log(\"token= \", token);\r\n        if (props.count) {\r\n            setSearchdata('400');\r\n            let url = \"/showfiles/count/\" + props.count;\r\n            console.log(url);\r\n            fetch(url, {\r\n                // mode: 'no-cors',\r\n                headers: {\r\n                    'Content-Type': 'application/json',\r\n                    'Authorization': 'Bearer ' + token,\r\n                },\r\n            }).then((result) => {\r\n                result.json().then((resp) => {\r\n                    setSitedata(resp)\r\n                })\r\n            }) .catch((error) => {\r\n                    console.error('Error:', error);\r\n                    // setSearchdata(\"\");\r\n                });\r\n            setLoading(true)\r\n        }\r\n        else {\r\n            setSearchdata('200');\r\n            let url = \"/showfiles/\";\r\n            console.log(url);\r\n            fetch(url).then((result) => {\r\n                result.json().then((resp) => {\r\n                    setSitedata(resp)\r\n                })\r\n            })\r\n            setLoading(true)\r\n        }\r\n    }\r\n\r\n\r\n\r\n\r\n    return (<>\r\n\r\n        {loading ? (\r\n\r\n            <div>\r\n                {searchdata != 404 || searchdata == 200 ? (\r\n                    <div class=\"row icon-boxes\">\r\n\r\n                        {sitedata.map((item, i) =>\r\n                            <div key={i} class=\"col-md-6 col-lg-3 col-sm-4 d-flex align-items-stretch my-4 mb-lg-0 hover\" >\r\n                                <div class=\"\" style={stringifycss.iconBox} >\r\n                                    <div class=\"\"><img src={\"/\" + item.file_name} className=\"card-img-top\" alt=\"...\" style={{ height: '13rem' }} /></div>\r\n                                    <div className=\"text-center social-box\">\r\n                                        <a href={\"http://www.facebook.com/sharer.php?s=100&amp;p[title]=\" + item?.title + \"&amp;p[url]=\" + \"http://localhost:3000/postview/\" + item.id} title=\"Share on Facebook\" target=\"_blank\" ><i class=\"fa fa-facebook\"></i></a>\r\n                                        <a href={\"http://twitter.com/share?text=\" + item?.title + \"&url=\" + \"http://localhost:3000/postview/\" + item.id} target=\"_blank\" title=\"Tweet\" ><i class=\"fa fa-twitter\"></i></a>\r\n                                        <a href={\"http://www.linkedin.com/shareArticle?mini=true&url=http://localhost:3000/postview/\" + item.id + \"&title=\" + item?.title + \"&source=http://localhost:3000/postview/\" + item.id} target=\"_blank\" title=\"Share on LinkedIn\"><i class=\"fa fa-linkedin\"></i></a>\r\n                                        <a href={\"https://wa.me/?text=http://localhost:3000/postview/\" + item.id} target=\"_blank\" title=\"Share on Whatsapp\" ><i class=\"fa fa-whatsapp\"></i></a>\r\n                                        <a href={\"mailto:?subject=\" + item?.title + \"&amp;body=http://localhost:3000/postview/\" + item.id} target=\"_blank\" title=\"Share on Email\"><i class=\"fa fa-envelope\"></i></a>\r\n                                    </div>\r\n                                    <h6 class=\"fw-bold mt-2\"><NavLink to={\"/postview/\" + item.id} className=\"text-decoration-none\">{item.title.substring(0, 70) + \"...\"}</NavLink></h6>\r\n                                    <p class=\"\">{item.description.substring(3, 70) + \"...\"}</p>\r\n                                    <div className=\"text-left button-effect\"><NavLink to={\"/postview/\" + item.id} className=\"text-decoration-none effect effect-1\" postid='' >Read More <span className=\"slide-right\">-&gt;</span></NavLink></div>\r\n\r\n                                </div>\r\n                            </div>\r\n                        )}\r\n                    </div>\r\n                ) : (\r\n                    <div className=\" row text-center\">\r\n                        <h2 className=\"\">Not Found</h2>\r\n                    </div>\r\n                )\r\n                }\r\n            </div>\r\n        ) : (\r\n\r\n            <div class=\"d-flex justify-content-center\">\r\n                <div class=\"spinner-border m-5\" role=\"status\">\r\n                    <span class=\"visually-hidden\">Loading...</span>\r\n                </div>\r\n            </div>\r\n        )}\r\n\r\n    </>);\r\n\r\n}\r\n\r\nconst stringifycss = {\r\n    iconBox: {\r\n        padding: \"5% 5%\",\r\n        position: \"relative\",\r\n        overflow: \"hidden\",\r\n        background: \"#fff\",\r\n        boxShadow: \"0 0 29px 0 rgb(18 66 101 / 8%)\",\r\n        transition: \"all 0.3s ease-in-out\",\r\n        borderRadius: \"8px\",\r\n        zIndex: \"1\",\r\n\r\n        \"&:hover\": {\r\n            transform: \"scale(1.08)\",\r\n        },\r\n    },\r\n\r\n}\r\n"]},"metadata":{},"sourceType":"module"}