{"ast":null,"code":"import _regeneratorRuntime from\"C:/Users/vishw/OneDrive/Desktop/reactjs nodejs/client/Client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"C:/Users/vishw/OneDrive/Desktop/reactjs nodejs/client/Client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"C:/Users/vishw/OneDrive/Desktop/reactjs nodejs/client/Client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React from'react';import{useEffect,useState}from'react';import Nav from'./Nav';import{NavLink,useHistory}from'react-router-dom';import\"../node_modules/bootstrap/dist/css/bootstrap.min.css\";import'./Login.css';import axios from'axios';import{Alert,Spinner}from'react-bootstrap';import Navigation from'./Components/All/navigation';// import {FontAwesomeIcon} from \"@fortawesome/react-fontawesome\";\nimport{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export default function Login(){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),userdata=_useState2[0],setUserdata=_useState2[1];var _useState3=useState(\"\"),_useState4=_slicedToArray(_useState3,2),email=_useState4[0],setEmail=_useState4[1];var _useState5=useState(\"\"),_useState6=_slicedToArray(_useState5,2),password=_useState6[0],setPassword=_useState6[1];var _useState7=useState(''),_useState8=_slicedToArray(_useState7,2),error=_useState8[0],setError=_useState8[1];var history=useHistory();useEffect(function(){if(localStorage.getItem('user-info')){history.push(\"/home\");}},[]);function getdata(_x){return _getdata.apply(this,arguments);}function _getdata(){_getdata=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(e){var item;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:e.preventDefault();item={email:email,password:password};axios.post('http://127.0.0.1:3001/users/login',item).then(function(response){console.log(response.data);if(response.data.status===200){setError({status:\"success\",message:\"Login Successfully redirecting...\",spinner:\"border\"});setTimeout(function(){localStorage.setItem('user-info',JSON.stringify(response.data));// localStorage.setItem('token', JSON.stringify(response.data.token));\nwindow.location.reload(false);// history.push(\"/home\")\n},3000);}else if(response.data.status===401){setError({status:\"danger\",message:\"Email and Password is incorrect\"});setTimeout(function(){setError('');},3000);}}).catch(function(err){return console.err(\"Error\",err);});case 3:case\"end\":return _context.stop();}}},_callee);}));return _getdata.apply(this,arguments);}return/*#__PURE__*/_jsxs(React.Fragment,{children:[/*#__PURE__*/_jsx(Nav,{}),/*#__PURE__*/_jsx(Navigation,{navigation:\"Login\"}),/*#__PURE__*/_jsx(\"div\",{className:\"container-fluid px-1 px-md-5 px-lg-1 px-xl-5 py-2 mx-auto\",children:/*#__PURE__*/_jsx(\"div\",{className:\"card  border-0\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"row d-flex\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"col-lg-6 m-auto\",children:/*#__PURE__*/_jsx(\"div\",{className:\"card1 pb-5 text-center\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"row px-3 justify-content-center mt-4 mb-5 border-line\",children:[\" \",/*#__PURE__*/_jsx(\"img\",{src:\"https://i.imgur.com/uNGdWHi.png\",className:\"image\"}),\" \"]})})}),/*#__PURE__*/_jsx(\"div\",{className:\"col-lg-6\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"card2 card border-0 px-4 py-5\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"row px-3 mb-4\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"line\"}),\" \",/*#__PURE__*/_jsx(\"small\",{className:\"or text-center\",children:\"O\"}),/*#__PURE__*/_jsx(\"div\",{className:\"line\"})]}),error!=''?/*#__PURE__*/_jsxs(Alert,{className:\"alert\",variant:error.status,children:[error.message,\" \",/*#__PURE__*/_jsx(Spinner,{animation:error.spinner,size:\"sm\"})]}):null,/*#__PURE__*/_jsxs(\"div\",{className:\"row px-3\",children:[\" \",/*#__PURE__*/_jsx(\"label\",{className:\"mb-1\",children:/*#__PURE__*/_jsx(\"h6\",{className:\"mb-0 text-sm\",children:\"Email Address\"})}),\" \",/*#__PURE__*/_jsx(\"input\",{className:\"mb-4\",type:\"email\",name:\"email\",placeholder:\"Enter a valid email address\",onChange:function onChange(e){return setEmail(e.target.value);}})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"row px-3\",children:[\" \",/*#__PURE__*/_jsx(\"label\",{className:\"mb-1\",children:/*#__PURE__*/_jsx(\"h6\",{className:\"mb-0 text-sm\",children:\"Password\"})}),\" \",/*#__PURE__*/_jsx(\"input\",{type:\"password\",name:\"password\",placeholder:\"Enter password\",onChange:function onChange(e){return setPassword(e.target.value);}}),\" \"]}),/*#__PURE__*/_jsx(\"div\",{className:\"row px-3 mb-4\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"row mb-3 px-3\",children:[\" \",/*#__PURE__*/_jsx(\"button\",{onClick:function onClick(e){if(email==''||password==''){setError({status:\"danger\",message:\"Fill all the fields\"});setTimeout(function(){setError('');},3000);}else{getdata(e);}},className:\"btn btn-blue text-center\",children:\"Login\"}),\" \"]}),/*#__PURE__*/_jsxs(\"div\",{className:\"row mb-4 px-3\",children:[\" \",/*#__PURE__*/_jsxs(\"small\",{className:\"font-weight-bold\",children:[\"Don't have an account?\",/*#__PURE__*/_jsx(NavLink,{extract:true,className:\"text-danger\",to:\"/register\",children:\"Register\"})]}),\" \"]})]})})]})})})]});}","map":{"version":3,"sources":["C:/Users/vishw/OneDrive/Desktop/reactjs nodejs/client/client/src/Login.js"],"names":["React","useEffect","useState","Nav","NavLink","useHistory","axios","Alert","Spinner","Navigation","Login","userdata","setUserdata","email","setEmail","password","setPassword","error","setError","history","localStorage","getItem","push","getdata","e","preventDefault","item","post","then","response","console","log","data","status","message","spinner","setTimeout","setItem","JSON","stringify","window","location","reload","catch","err","target","value"],"mappings":"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","sourcesContent":["\r\nimport React from 'react';\r\nimport { useEffect, useState } from 'react';\r\nimport Nav from './Nav';\r\nimport { NavLink, useHistory } from 'react-router-dom';\r\nimport \"../node_modules/bootstrap/dist/css/bootstrap.min.css\";\r\nimport './Login.css';\r\nimport axios from 'axios';\r\nimport { Alert,Spinner } from 'react-bootstrap';\r\nimport Navigation from './Components/All/navigation';\r\n// import {FontAwesomeIcon} from \"@fortawesome/react-fontawesome\";\r\nexport default function Login() {\r\n\r\n    const [userdata, setUserdata] = useState([]);\r\n    const [email, setEmail] = useState(\"\");\r\n    const [password, setPassword] = useState(\"\");\r\n    const [error, setError] = useState('');\r\n    const history = useHistory();\r\n\r\n    useEffect(() => {\r\n        if(localStorage.getItem('user-info')){\r\n            history.push(\"/home\")\r\n        }\r\n    }, [])\r\n\r\n    async function getdata(e) {\r\n        e.preventDefault();\r\n        let item = { email, password }\r\n        axios.post('http://127.0.0.1:3001/users/login', item)\r\n            .then(response => {\r\n                console.log(response.data);\r\n                if (response.data.status === 200) {\r\n\r\n                    setError({ status: \"success\", message: \"Login Successfully redirecting...\", spinner:\"border\" });\r\n                    setTimeout(() => {\r\n                        localStorage.setItem('user-info', JSON.stringify(response.data));\r\n                        // localStorage.setItem('token', JSON.stringify(response.data.token));\r\n                        window.location.reload(false);\r\n                        // history.push(\"/home\")\r\n                    }, 3000)\r\n                } else if (response.data.status === 401) {\r\n                    setError({ status: \"danger\", message: \"Email and Password is incorrect\" });\r\n                    setTimeout(() => { setError('') }, 3000);\r\n                }\r\n\r\n            })\r\n            .catch(err => console.err(\"Error\", err))\r\n    }\r\n\r\n    return (<React.Fragment>\r\n        <Nav />\r\n        <Navigation navigation=\"Login\"/>\r\n\r\n        <div className=\"container-fluid px-1 px-md-5 px-lg-1 px-xl-5 py-2 mx-auto\">\r\n            <div className=\"card  border-0\">\r\n                <div className=\"row d-flex\">\r\n                    <div className=\"col-lg-6 m-auto\">\r\n                        <div className=\"card1 pb-5 text-center\">\r\n                            <div className=\"row px-3 justify-content-center mt-4 mb-5 border-line\"> <img src=\"https://i.imgur.com/uNGdWHi.png\" className=\"image\" /> </div>\r\n                        </div>\r\n                    </div>\r\n                    <div className=\"col-lg-6\">\r\n                        <div className=\"card2 card border-0 px-4 py-5\">\r\n                        \r\n                            {/* <div className=\"row mb-4 px-3\">\r\n                                <h6 className=\"mb-0 mr-4 mt-2\">Sign in with</h6>\r\n                                <div className=\"facebook text-center mr-3\">\r\n                                    <div className=\"fa fa-facebook\">F</div>\r\n                                </div>\r\n                                <div className=\"twitter text-center mr-3\">\r\n                                    <div className=\"fa fa-twitter\">T\r\n                                    </div>\r\n                                </div>\r\n                                <div className=\"linkedin text-center mr-3\">\r\n                                    <div className=\"fa fa-linkedin\">L</div>\r\n                                </div>\r\n                            </div> */}\r\n                            <div className=\"row px-3 mb-4\">\r\n                                <div className=\"line\"></div> <small className=\"or text-center\">O</small>\r\n                                <div className=\"line\"></div>\r\n                            </div>\r\n\r\n                            {error != '' ? (<Alert className=\"alert\" variant={error.status} >{error.message} <Spinner animation={error.spinner} size=\"sm\" /></Alert>) : null}\r\n                            \r\n                                <div className=\"row px-3\"> <label className=\"mb-1\">\r\n                                    <h6 className=\"mb-0 text-sm\">Email Address</h6>\r\n                                </label> <input className=\"mb-4\" type=\"email\" name=\"email\" placeholder=\"Enter a valid email address\" onChange={(e) => setEmail(e.target.value)} />\r\n                                </div>\r\n                                <div className=\"row px-3\"> <label className=\"mb-1\">\r\n                                    <h6 className=\"mb-0 text-sm\">Password</h6>\r\n                                </label> <input type=\"password\" name=\"password\" placeholder=\"Enter password\" onChange={(e) => setPassword(e.target.value)} /> </div>\r\n                                <div className=\"row px-3 mb-4\">\r\n                                    {/* <div className=\"custom-control custom-checkbox custom-control-inline\"> <input id=\"$ npm install axioschk1\" type=\"checkbox\" name=\"chk\" className=\"custom-control-input\" /> <label for=\"chk1\" className=\"custom-control-label text-sm\">Remember me</label> </div> <a href=\"#\" className=\"ml-auto mb-0 text-sm\">Forgot Password?</a> */}\r\n                                </div>\r\n                                <div className=\"row mb-3 px-3\"> <button \r\n                                onClick={ (e)=>{\r\n                                    if( email == '' || password == '' ){\r\n                                        setError({ status: \"danger\", message: \"Fill all the fields\" });\r\n                                        setTimeout(()=>{setError('')},3000);\r\n                                    }else{\r\n                                    getdata(e);\r\n                                    }\r\n                                    }}\r\n                                className=\"btn btn-blue text-center\">Login</button> </div>\r\n                            \r\n                            <div className=\"row mb-4 px-3\"> <small className=\"font-weight-bold\">Don't have an account?\r\n                                <NavLink extract className=\"text-danger\" to=\"/register\">Register</NavLink>\r\n                            </small> </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                {/* <div className=\"bg-blue py-4\">\r\n                    <div className=\"row px-3\"> <small className=\"ml-4 ml-sm-5 mb-2\">Copyright &copy; 2019. All rights reserved.</small>\r\n                        <div className=\"social-contact ml-4 ml-sm-auto\"> <span className=\"fa fa-facebook mr-4 text-sm\"></span> <span className=\"fa fa-google-plus mr-4 text-sm\"></span> <span className=\"fa fa-linkedin mr-4 text-sm\"></span> <span className=\"fa fa-twitter mr-4 mr-sm-5 text-sm\"></span> </div>\r\n                    </div>\r\n                </div> */}\r\n            </div>\r\n        </div>\r\n    </React.Fragment >)\r\n\r\n}\r\n\r\n"]},"metadata":{},"sourceType":"module"}